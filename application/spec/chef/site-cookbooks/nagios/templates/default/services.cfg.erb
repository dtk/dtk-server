# Nagios Service Definitions.
#
# Automatically generated by Chef.

# checks for active hosts

define service {
    hostgroup_name      active
    service_description ping
    check_command       check_ping!200.0,20%!500.0,60%
    use                 default-service

}

define service {
    service_description Free Space All Disks
    hostgroup_name      active
    check_command    	check_all_disks
    use                 default-service
}

define service {
    service_description Load Average
    hostgroup_name      active
    check_command	check_load
    use                 default-service
}

define service {
    service_description Free Memory
    hostgroup_name      active
    check_command    	check_mem
    use                 default-service
}

define service {
    service_description Iostat
    hostgroup_name      active
    check_command    	check_iostat
    use                 default-service
}

define service {
    service_description Memory Profiler
    hostgroup_name      active
    check_command    	check_memory_profiler
    use                 default-service
}

define service {
    service_description SSH
    hostgroup_name      active
    check_command       check_ssh
    use                 default-service
}

define service {
    service_description Processes
    hostgroup_name      active
    check_command       check_local_procs
    use                 default-service
}

#### service specific checks
<% @host_service_assocs.each do |host_name,service_info_list| -%>
<% service_info_list.each do |s| -%>
define service
    service_description <%= s[:service_description] %>
    host_name <%= host_name %>
    use default-service
    check_command  <%= s[:check_command] %>
}
<% end -%>
<% end -%>

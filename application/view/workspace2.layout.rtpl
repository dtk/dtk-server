<html>
<head>
<!--
<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/combo?3.2.0/build/cssreset/reset.css&3.2.0/build/cssfonts/fonts.css">
-->

<link rel="SHORTCUT ICON" href="{%=_app[:base_images_uri]%}/icon-black.ico" />
<link rel="stylesheet" type="text/css" href="{%=_app[:base_js_uri]%}/external/yui/build/cssreset/reset.css">
<link rel="stylesheet" type="text/css" href="{%=_app[:base_js_uri]%}/external/yui/build/cssfonts/fonts.css">
<link rel="stylesheet" type="text/css" href="{%=_app[:base_js_uri]%}/external/yui/build/cssgrids/grids.css">

<link rel="stylesheet" type="text/css" href="{%=_app[:base_js_uri]%}/external/jstree/themes/r8/style.css">

<!--//TODO: revisit to variablize the path of the founcation css-->
<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/ui.css" />
<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/form.css" />
<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/topbar.v1.css" />
<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/cmdbar2.css" />
<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/toolbar.css" />

<!--
<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/basic-component.css" />
<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/basic-group.css" />
<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/basic-node.css" />
<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/basic-item.css" />
-->

<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/monitor.css" />
<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/notifications.css" />
<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/dock.css" />
<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/wspace_modal.css" />

<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/editor.css" />

<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/target.css" />

<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/list.css" />
<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/search.css" />

<link rel="stylesheet" type="text/css" href="{%=_app[:base_css_uri]%}/workspace.layout.css" />

{%for css_include in _app[:css_includes]%}
	<link rel="stylesheet" type="text/css" href="{%=css_include%}" />
{%end%}

</head>

	<body class="yui3-skin-sam  yui-skin-sam" style="overflow: hidden;">
	<div id="page-container" class="page-container">
		<div id="page-topbar" class="top-bar">
			<div id="menu-bar" class="yui3-g menu-bar grey">
				<div class="yui3-u left-cap"></div>
				<div id="menu-bar-body" class="toolbar yui3-u body">
					<div class="logo black"></div>
					<div class="nav-divider"></div>
					<div id="main-menu-items" class="main-menu-items">
						<div class="item active">
							<a href="{%=_app[:base_uri]%}/xyz/ide">Workspace</a>
							<div class="overlay">
								<div class="l-cap"></div>
								<div class="bg"></div>
								<div class="r-cap"></div>
							</div>
						</div>
						<div class="item-divider"></div>
						<div class="item"><a href="{%=_app[:base_uri]%}/xyz/component/list">Library</a></div>
						<div class="item-divider"></div>
						<div class="item disabled"><a href="{%=_app[:base_uri]%}/xyz/datacenter/list">Dashboard</a></div>
					</div>
					<div class="nav-divider"></div>
<!--					<div class="sub-item"><a href="javascript:R8.Editor.saveFile();">Save</a></div>-->
<!--
					<div class="sub-item"><a href="javascript:R8.IDE.refreshChefDebug('debug');">Refresh Chef Debug</a></div>
					<div class="sub-item"><a href="javascript:R8.IDE.refreshChefDebug('info');">Refresh Chef Info</a></div>
					<div class="sub-item"><a href="javascript:R8.IDE.refreshChefDebug('summary');">Refresh Chef Summary</a></div>
-->
					<div style="float: right; margin:5px; 10px;"><a href="{%=_app[:base_uri]%}/xyz/user/logout">Logout</a></div>
				</div>
				<div class="yui3-u right-cap"></div>
			</div>
		</div>
		<div id="main-body-wrapper" class="main-body-wrapper">
<!--
			<div id="l-panel" class="panel">
				<div id="l-panel-header" class="l-panel-header"></div>
				<div id="l-panel-content" class="l-panel-content"></div>
			</div>
			<div id="l-resizer" class="v-region-resizer">
				<div class="lines"></div>
			</div>
			<div id="main-region">
				<div id="editor-panel" class="panel">
					<div id="editor-panel-header" class="header">
						<ul id="editor-panel-tab-list" class="tab-list">
							<li id="project-view-tab" class="active">
								<div style="margin: 7px; 20px 0 15px;">EC2-East</div>
							</li>
						</ul>
					</div>
					<div id="editor-panel-content">
						<div id="node-foo" class="node active hover" style="left: 100px; top: 200px;">
							<div class="node-header">
								<div class="action-btn">
									<div class="action-btn-arrow"></div>
								</div>
								<div class="node-status"></div>
							</div>
							<div class="node-body">
								<div class="name-wrapper">
									<div class="name" title="App Node 01">App Node 01</div>
									<div class="contents-list-wrapper"></div>
								</div>
							</div>
							<div id="port-foo" class="port north" style="left: 62px; top: -9px;"></div>
							<div id="port-foo" class="port north" style="left: 80px; top: -9px;"></div>
							<div id="port-foo" class="port south" style="left: 62px; top: 81px;"></div>
							<div id="port-foo" class="port south" style="left: 80px; top: 81px;"></div>
							<div id="port-foo" class="port west" style="left: -9px; top: 27px;"></div>
							<div id="port-foo" class="port west" style="left: -9px; top: 45px;"></div>
							<div id="port-foo" class="port east" style="left: 151px; top: 27px;"></div>
							<div id="port-foo" class="port east" style="left: 151px; top: 45px;"></div>
						</div>
					</div>
					<div id="plugin-content-wrapper" class="plugin-content-wrapper">
						<div id="node-list-container">
							<div id="list-l-arrow-wrapper">
								<div id="list-l-arrow"></div>
							</div>
							<div id="list-body-wrapper">
								<div id="list-body">
									<div id="component-foo" class="component-result selected">
										<div class="body">
											<div class="main-content">
												<div class="php-icon"></div>
												<div class="icon-divider"></div>
												<div class="name-wrapper" title="PHP v5.3.8">PHP v5.3.8</div>
											</div>
											<div class="right-bar">
												<div class="plus"></div>
												<div class="implementations">
													<div class="chef"></div>
													<div class="puppet"></div>
												</div>
											</div>
										</div>
									</div>
									<div id="component-bar" class="component-result">
										<div class="body">
											<div class="main-content">
												<div class="rabbitmq-icon"></div>
												<div class="icon-divider"></div>
												<div class="name-wrapper" title="RabbitMQ Edge">RabbitMQ Edge</div>
											</div>
											<div class="right-bar">
												<div class="plus"></div>
												<div class="implementations">
													<div class="chef"></div>
													<div class="puppet"></div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div id="list-r-arrow-wrapper">
								<div id="list-r-arrow"></div>
							</div>
						</div>
					</div>

					<div id="plugin-bar" class="plugin-bar">
						<div id="input-content" class="input-content">
							<div id="plugin-input-wrapper" class="plugin-input-wrapper">
								<input id="plugin-input" name="plugin-input" type="text" class="plugin-input"/>
							</div>
						</div>
						<div id="" class="divider"></div>
						<div id="" class="item-wrapper active">
							<div id="" class="item">Components</div>
						</div>
						<div id="" class="divider"></div>
						<div id="" class="item-wrapper">
							<div id="" class="item">Nodes</div>
						</div>
						<div id="" class="divider"></div>
						<div id="" class="item-wrapper">
							<div id="" class="item">Assemblies</div>
						</div>
						<div id="" class="divider"></div>
					</div>
				</div>
			</div>
-->

<!--
				<div id="editor-panel" class="editor-panel"></div>
				<div id="editor-panel-spacer" class="h-panel-spacer"></div>
				<div id="console-panel" class="console-panel"></div>
-->
<!--
			<div id="region-top-full">top full</div>
			<div id="region-left">left</div>
			<div id="region-top">top</div>
			<div id="region-right">right</div>
			<div id="region-editor">editor</div>
			<div id="region-bottom">bottom</div>
			<div id="region-bottom-full">bottom full</div>

			<div id="region-left-1">left 1</div>
			<div id="region-editor">editor</div>
			<div id="region-left-2">left 2</div>
			<div id="region-bottom">bottom</div>
-->
		</div>
		</div>
	</div>


<script type="text/javascript">
YUI_config = {
	base: '{%=_app[:base_js_uri]%}/external/yui/build/',
	groups: {
		gallery: {
			base: '{%=_app[:base_js_uri]%}/external/yui/gallery/'
		}
	},
	modules: {}
};
</script>

<!-- JS -->

<script type="text/javascript" src="{%=_app[:base_js_uri]%}/external/yui/build/yui/yui.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/external/yui/build/loader/loader.js"></script>

<script src="{%=_app[:base_js_uri]%}/external/jquery-1.6.2.js"></script>
<script src="{%=_app[:base_js_uri]%}/external/jquery.cookie.js"></script>
<script src="{%=_app[:base_js_uri]%}/external/jstree/jquery.jstree.js"></script>
<script src="{%=_app[:base_js_uri]%}/external/jstree/_lib/jquery.hotkeys.js"></script>

<script type="text/javascript" src="{%=_app[:base_js_uri]%}/ctrl.r8.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/model.r8.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.user.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/ui.r8.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/templating.r8.js"></script>

<div id="js_include_container">
	{%for js_include in _app[:js_includes]%}
	<script type="text/javascript" src="{%=js_include%}"></script>
	{%end%}
</div>

<script type="text/javascript" src="{%=_app[:base_js_uri]%}/utils.r8.js"></script>

<script src="{%=_app[:base_js_uri]%}/external/ace/src/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="{%=_app[:base_js_uri]%}/external/ace/src/mode-ruby.js" type="text/javascript" charset="utf-8"></script>
<!--
<script src="{%=_app[:base_js_uri]%}/external/ace/src/theme-twilight.js" type="text/javascript" charset="utf-8"></script>
<script src="{%=_app[:base_js_uri]%}/external/ace/src/theme-cobalt.js" type="text/javascript" charset="utf-8"></script>
-->
<script src="{%=_app[:base_js_uri]%}/external/ace/src/theme-eclipse.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.viewspace.js"></script>

<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.project.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.target.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.node.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.component.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.implementation.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.port.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.link.js"></script>


<script type="text/javascript" src="{%=_app[:base_js_uri]%}/canvas2.r8.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/canvas.r8.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/cmdbar2.r8.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/maintoolbar.r8.js"></script>

<script type="text/javascript" src="{%=_app[:base_js_uri]%}/search.r8.js"></script>

<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.toolbargroup.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.topbar.js"></script>


<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.dock.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.editor.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/file.r8.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/toolbar.r8.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/page.r8.js"></script>

<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.leftPanel.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.editorPanel.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.consolePanel.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.view.file.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.view.target.editor.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.view.target.project.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.view.editor.component.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.view.component.linkDefsEditor.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.view.component.project.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.view.project.project.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.view.project.implementation.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.view.node.project.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.view.node.editor_target.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.view.port.editor_target.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.view.chefdebugger.js"></script>
<script type="text/javascript" src="{%=_app[:base_js_uri]%}/r8.ide.view.jitter.js"></script>


<script type="text/javascript">
R8.config = {};
R8.config['base_uri'] = '{%=_app[:base_uri]%}/xyz';
</script>

	<div id="js_exe_container">
		<script type="text/javascript">
		window.onload = function() {
//DEBUG
console.log('window.onload is complete....');
			setTimeout(bootStrap,3000);
		}
		function bootStrap() {
//DEBUG
console.log('Going to exe all the needed JS....');
			{%for js_exe in _app[:js_exe_list]%}
				{%=js_exe%}
			{%end%}
		}
		</script>
	</div>

	</body>
</html>

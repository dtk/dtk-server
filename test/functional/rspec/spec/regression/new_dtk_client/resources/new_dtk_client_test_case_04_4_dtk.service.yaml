---
dsl_version: 1.0.0
name: new_dtk_client_test_case_04
dependencies:
  aws/aws_stdlib: master
  dtk_stdlib/dtk_stdlib: master
  aws/ec2: master
  dtk/host: master
  dtk-provider/ruby-provider: master
  r8/stdlib: master
  nanliu/staging: master
components:
- ec2::node[node]:
    attributes:
      discovered: false
      enable_public_ip_in_subnet: true
      image: xenial_hvm
      size: micro
      tags:
        Name: dtk:new_dtk_client_test_case_04:node
    links:
    - context_iam/ec2::profile[aws-target]
    components:
    - stdlib
    - staging
actions:
  create:
    subtasks:
    - name: component ec2::node[node]
      components:
      - ec2::node[node]
    - name: configure
      node: node
      components:
      - stdlib
  install_staging:
    subtasks:
    - name: install staging module
      node: node
      components:
      - staging